{% extends "layout.html" %}

{%block content%}
<nav class="container fs-1" style="margin-bottom:50px;">
    <a href="/">밍크</a>
    <a href="{% url 'board:notice'%}">공지사항</a>
    <a href="{% url 'accounts:login'%}">로그인</a>
</nav>
<div class="container-lg">
    <form class="d-flex" action="{% url 'board:notice'%}">
        <input class="form-control me-2" type="search" name="kw" placeholder="검색어를 입력해주세요."
               aria-label="Search"
               value="{{request.GET.kw}}">
        <button class="btn btn-outline-success" type="submit">검색</button>
    </form>
    <ul style="margin-top:20px;">
        {% for article in article_list%}
        <li>
            <a href="{% url 'board:detail' article.id %}">{{ article.subject }}</a>
        </li>
        {%endfor%}
    </ul>
    <div>
        <a href="{% url 'board:write' board.id%}" class="btn btn-primary">질문 작성</a>
    </div>
    <ul class="pagination justify-content-center" style="margin-top:50px;">
        <!-- 이전페이지 -->
        {% if article_list.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ article_list.previous_page_number }}&kw={{request.GET.kw}}">이전</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
        </li>
        {% endif %}
        <!-- 페이지리스트 -->
        {% for page_number in article_list.paginator.page_range %}
        {% if article_list.number|add:-5 <= page_number <= article_list.number|add:5 %}
        {% if page_number == article_list.number %}
        <li class="page-item active" aria-current="page">
            <a class="page-link" href="?page={{ page_number }}&kw={{request.GET.kw}}">{{ page_number }}</a>
        </li>
        {% else %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_number }}&kw={{request.GET.kw}}">{{ page_number }}</a>
        </li>
        {% endif %}
        {% endif %}
        {% endfor %}
        <!-- 다음페이지 -->
        {% if article_list.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ article_list.next_page_number }}&kw={{request.GET.kw}}">다음</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
        </li>
        {% endif %}
    </ul>
</div>
{%endblock%}